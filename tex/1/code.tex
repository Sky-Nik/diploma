\section{Реалізація простих алгоритмів}

Наведемо реалізацію цих алгоритмів на мові програмування python. Необхідні бібліотеки:
\inputminted[linenos,fontsize=\tiny]{python}{src/__init__.py}

\begin{remark}
    У наведеному вище вигляді алгоритми Tseng'a і Попова обчислюють оператор $A$ тричі і двічі на кожну ітерацію відповідно. На цьому можна заощадити якщо кешувати обчислення оператора $A$. У випадку алгоритма Tseng'a спосіб кешування очевидний: один раз обчислюємо $A x_n$ і двічі використовуємо його (для $y_n$ та $x_{n + 1}$). У випадку алгоритма Попова кешування допомагає за рахунок того, що значення $A y_n$ використовується один раз на ітерації $n$ для обчислення $x_{n + 1}$, і ще раз на ітерації $n + 1$ для обчислення значення $y_{n + 1}$. \medskip
    
    В теорії, у випадку коли $P_C$ обчислювати дешево (наприклад, коли це можливо аналітично), а $A$ обчислювати дорого, такий трюк допомагає пришвидшити алгоритм Tseng'a у 1.5, а алгоритм Попова --- у 2 рази.
\end{remark}

\begin{remark}
    Ми обрали дизайн згідно з яким власне алгоритм знає мінімальний контекст задачі. Це означає, що для використання алгоритму користувач має визначити дві функції, одна з яких відповідатиме за обчислення оператора $A$, а друга --- за обчислення оператора $P_C$. Це надає користувачеві гнучкість у плані вибору способу обчислення операторів, яка буде помітна вже з перших тестових запусків.
\end{remark}

Загальний вигляд (за модулем назви і деяких параметрів) запуску алгоритма наступний:
\begin{minted}[linenos,fontsize=\tiny]{python}
solution, iteration_n, duration = korpelevich(
    x_initial=np.ones(size), lambda_=0.4,
    A=lambda x: a.dot(x), ProjectionOntoC=lambda x: x,
    tolerance=1e-3, max_iterations=1e4, debug=True)
\end{minted}

Як бачимо, визначення способу обчислення операторів $A$ і $P_C$ лягає на плечі користувача. У багатьох випадках це доволі просто, хоча у деяких користувачеві доведеться написати більше коду і знадобитсья користуватися scipy.optimize або  аналогічним модулем для обчислення проекції.

\newpage

\subsection{Корпелевич}
\inputminted[linenos,fontsize=\tiny]{python}{src/korpelevich.py}
\newpage

\subsection{Tseng}
\inputminted[linenos,fontsize=\tiny]{python}{src/tseng.py}
\newpage

\subsection{Кешований Tseng}
\inputminted[linenos,fontsize=\tiny]{python}{src/cached_tseng.py}
\newpage

\subsection{Попов}
\inputminted[linenos,fontsize=\tiny]{python}{src/popov.py}
\newpage

\subsection{Кешований Попов}
\inputminted[linenos,fontsize=\tiny]{python}{src/cached_popov.py}
